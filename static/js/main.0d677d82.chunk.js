(this.webpackJsonpdbapp=this.webpackJsonpdbapp||[]).push([[0],{111:function(e,t,s){},123:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s.n(a),c=s(33),r=s.n(c),o=(s(32),s(2)),i=(s(111),s(0));function d(e){return Object(i.jsx)("button",{className:"".concat(e.activeBtn===e.id?"border-2 font-bold bg-gray-600 text-white":"font-semibold border-2 bg-white text-gray-800"," border-white hover:text-black hover:bg-gray-400 py-2 px-4 rounded shadow ").concat(e.classAdds),onClick:e.onclick,id:e.id,children:e.text})}function l(e){return Object(i.jsxs)("div",{className:"grid grid-cols-4 h-1-10",children:[Object(i.jsx)(d,{text:"View Tasks",onclick:e.showViewTask,classAdds:"max-w-max m-auto",id:"viewBtn",activeBtn:"".concat(e.body,"Btn")}),Object(i.jsx)(d,{text:"Manage Tasks",onclick:e.showAddTask,classAdds:"max-w-max m-auto",id:"addBtn",activeBtn:"".concat(e.body,"Btn")}),Object(i.jsx)(d,{text:"View Analytics",onclick:e.showAnalytics,classAdds:"max-w-max m-auto",id:"analBtn",activeBtn:"".concat(e.body,"Btn")}),Object(i.jsx)(d,{text:"Log Out",onclick:e.logout,classAdds:"max-w-max m-auto",id:"logoutBtn",activeBtn:"".concat(e.body,"Btn")})]})}var u=s(3),j=s.n(u),b=s(16),h=s(34),x=s.n(h),O=(s(122),s(24));function g(e){var t=Object(a.useState)("undefined"!==typeof e.defaultDate?new Date(1e3*e.defaultDate):new Date),s=Object(o.a)(t,2),n=s[0],c=s[1],r="MM/dd/yyyy";return Object(i.jsx)(x.a,{formatDate:function(e,t,s){return Object(O.a)(e,t,{locale:s})},placeholder:"".concat(Object(O.a)(n,r)),format:r,inputProps:{readOnly:!0},onDayChange:function(t){c(t),e.onChange(t)}})}function p(e){var t=function(t){27===(t.charCode||t.keyCode)&&e.onClose()};Object(a.useEffect)((function(){return document.body.addEventListener("keydown",t),function(){document.body.removeEventListener("keydown",t)}}),[]);return e.show?Object(i.jsx)("div",{className:"modal",onClick:e.onClose,children:Object(i.jsxs)("div",{className:"modal-content rounded border-2 border-black text-black",onClick:function(e){return e.stopPropagation()},children:[Object(i.jsxs)("div",{className:"modal-header grid grid-cols-4",children:[Object(i.jsx)("h4",{className:"modal-title col-start-2 col-span-2 text-xl",children:"Invalid Data Present"}),Object(i.jsx)("div",{className:"text-right",children:Object(i.jsx)("button",{onClick:e.onClose,className:"w-3/6 button bg-white hover:bg-gray-100 text-gray-800 font-semibold py-2 px-4 border border-gray-400 rounded shadow",children:"X"})})]}),Object(i.jsx)("div",{className:"modal-body h-96 grid grid-rows-4 content-end",children:Object(i.jsx)("div",{className:"task-description row-start-2",children:Object(i.jsx)("ul",{id:"errorList",className:"list-disc list-inside",children:e.errList.map((function(e){return Object(i.jsx)("li",{children:e})}))})})}),Object(i.jsx)("div",{className:"modal-footer",children:Object(i.jsx)("button",{onClick:e.onClose,className:"button bg-white hover:bg-gray-100 text-gray-800 font-semibold py-2 px-4 border border-gray-400 rounded shadow",children:"Close"})})]})}):null}function m(e){var t=function(t){27===(t.charCode||t.keyCode)&&e.onClose()};return Object(a.useEffect)((function(){return document.body.addEventListener("keydown",t),function(){document.body.removeEventListener("keydown",t)}}),[]),e.show?Object(i.jsx)("div",{className:"modal",onClick:e.onClose,children:Object(i.jsxs)("div",{className:"modal-content rounded border-2 border-black text-black",onClick:function(e){return e.stopPropagation()},children:[Object(i.jsxs)("div",{className:"modal-header grid grid-cols-4",children:[Object(i.jsx)("h4",{className:"modal-title col-start-2 col-span-2 text-xl",children:"Task Successfully Added"}),Object(i.jsx)("div",{className:"text-right",children:Object(i.jsx)("button",{onClick:e.onClose,className:"w-3/6 button bg-white hover:bg-gray-100 text-gray-800 font-semibold py-2 px-4 border border-gray-400 rounded shadow",children:"X"})})]}),Object(i.jsx)("div",{className:"modal-footer",children:Object(i.jsx)("button",{onClick:e.onClose,className:"button bg-white hover:bg-gray-100 text-gray-800 font-semibold py-2 px-4 border border-gray-400 rounded shadow",children:"Close"})})]})}):null}function f(e){var t=Object(a.useState)({}),s=Object(o.a)(t,2),n=s[0],c=s[1],r=Object(a.useState)(!1),l=Object(o.a)(r,2),u=l[0],j=l[1],b=Object(a.useState)(!1),h=Object(o.a)(b,2),x=h[0],O=h[1],f=Object(a.useState)([]),k=Object(o.a)(f,2),v=k[0],w=k[1],y=Object(a.useState)(1),N=Object(o.a)(y,2),C=N[0],T=N[1],S=["Todo","In Progress","Staging","UAT","Production"],D=["Low","Medium","High"],A=Object(a.useState)(parseInt(new Date/1e3)),I=Object(o.a)(A,2),B=I[0],E=I[1],L=Object(a.useState)(""),P=Object(o.a)(L,2),F=P[0],U=P[1],q=Object(a.useState)(""),J=Object(o.a)(q,2),M=J[0],H=J[1],R=Object(a.useState)(""),V=Object(o.a)(R,2),X=V[0],G=V[1],W=Object(a.useState)(parseInt(new Date/1e3)),Y=Object(o.a)(W,1)[0],z=Object(a.useState)(""),K=Object(o.a)(z,2),Q=K[0],Z=K[1],$=Object(a.useState)(""),_=Object(o.a)($,2),ee=_[0],te=_[1],se=Object(a.useState)(""),ae=Object(o.a)(se,2),ne=ae[0],ce=ae[1],re=Object(a.useState)(""),oe=Object(o.a)(re,2),ie=oe[0],de=oe[1],le=function(e){return Object(i.jsx)("option",{children:e},e)};Object(a.useEffect)((function(){fetch("https://databasedesignprojapi.herokuapp.com/queries/getEmployees").then((function(e){return e.json()})).then((function(e){c(e)}))}),[]);var ue=function(e){je(e.target.id,e.target.value)},je=function(e,t){switch(e){case"title":return void H(t);case"level":return void Z(t);case"assignedTo":return U(t),te(be(t)),void de(he(t));case"status":return void G(t);case"desc":return void ce(t);default:return void console.log("Incorrect ID:  ".concat(e))}},be=function(e){for(var t in n)if(n[t].name.toLowerCase()===e.toLowerCase())return n[t].deptId;return"N/A"},he=function(e){for(var t in n)if(n[t].name.toLowerCase()===e.toLowerCase())return t;return"N/A"},xe=function(){return{taskTitle:M,dueDate:B.toString(),createDate:Y.toString(),status:X,description:ne,assignedTo:F,priority:Q,deptId:ee,empId:ie}};Object(a.useEffect)((function(){e.updatePreviewTask(xe())}),[ee,ne,B,Q,X,M]);var Oe=function(){var e=xe(),t=[],s=!0;return e.taskTitle.length<5&&(s=!1,t.push("Title should be at least 5 characters.")),(""===e.dueDate||e.dueDate<parseInt(new Date/1e3))&&(s=!1,t.push("Due date needs to be some time in the future.")),S.includes(e.status)||(s=!1,t.push("Please select a status for the task.")),D.includes(e.priority)||(s=!1,t.push("Please select an urgency level.")),ge(e.assignedTo)||(s=!1,t.push("Please select someone to assign the ticket to.")),e.description.length<10&&(s=!1,t.push("Description should be at least 10 characters")),[s,t]},ge=function(e){for(var t in n)if(n[t].name.toLowerCase()===e.toLowerCase())return!0;return!1},pe=function(){document.getElementById("addTaskForm").reset(),T(C+1),E(parseInt(new Date/1e3)),U(""),H(""),G(""),Z(""),te(""),ce(""),de("")};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h4",{className:"text-gray-100 text-2xl",children:"Add A Task"}),Object(i.jsxs)("form",{id:"addTaskForm",className:"addTaskForm grid grid-cols-2 grid-rows-8 text-left gap-2",children:[Object(i.jsx)("div",{children:"Task Title:"}),Object(i.jsx)("div",{children:Object(i.jsx)("input",{id:"title",className:"rounded taskTitle text-black w-2/3",onChange:ue})}),Object(i.jsx)("div",{children:"Task Description:"}),Object(i.jsx)("div",{children:Object(i.jsx)("textarea",{onChange:ue,id:"desc",className:"rounded taskDescription text-black w-2/3"})}),Object(i.jsx)("div",{children:"Task Status:"}),Object(i.jsxs)("select",{onChange:ue,id:"status",className:"text-black taskStatus rounded w-2/3",children:[Object(i.jsx)("option",{value:null,selected:!0,children:"Select One"}),S.map(le)]}),Object(i.jsx)("div",{children:"Urgency:"}),Object(i.jsxs)("select",{onChange:ue,id:"level",className:"text-black taskLevel rounded w-2/3",children:[Object(i.jsx)("option",{value:null,selected:!0,children:"Select One"}),D.map(le)]}),Object(i.jsx)("div",{children:"Assigned To:"}),Object(i.jsxs)("select",{onChange:ue,id:"assignedTo",className:"text-black taskAssignedTo rounded w-2/3",children:[Object(i.jsx)("option",{value:null,selected:!0,children:"Select One"}),Object.keys(n).map((function(e){return le(n[e].name)}))]}),Object(i.jsx)("div",{children:"Due Date:"}),Object(i.jsx)("div",{children:Object(i.jsx)(g,{onChange:function(e){E(parseInt(new Date(e)/1e3))}},"due-".concat(C))})]}),Object(i.jsx)(d,{activeBtn:!1,onclick:function(){var t=Oe();t[0]?(O(!0),pe(),console.log(e.onsubmit(xe()))):(w(t[1]),j(!0))},id:"addTaskSubmit",text:"Add Task",classAdds:"my-3"}),Object(i.jsx)(p,{show:u,errList:v,onClose:function(){return j(!1)}}),Object(i.jsx)(m,{show:x,onClose:function(){return O(!1)}})]})}function k(e){var t=Object(a.useState)(e.task.assignedTo),s=Object(o.a)(t,2),n=s[0],c=s[1],r=Object(a.useState)(e.task.deptId),l=Object(o.a)(r,2),u=l[0],h=l[1],x=Object(a.useState)(e.task.dueDate),O=Object(o.a)(x,2),p=O[0],m=O[1],f=Object(a.useState)(e.task.status),k=Object(o.a)(f,2),v=k[0],w=k[1],y=Object(a.useState)(e.task.priority),N=Object(o.a)(y,2),C=N[0],T=N[1],S=Object(a.useState)(e.task.description),D=Object(o.a)(S,2),A=D[0],I=D[1],B=Object(a.useState)(e.task.empId),E=Object(o.a)(B,2),L=E[0],P=E[1],F=Object(a.useState)(e.task),U=Object(o.a)(F,2),q=U[0],J=U[1],M=function(t){27===(t.charCode||t.keyCode)&&e.onClose()};Object(a.useEffect)((function(){return document.body.addEventListener("keydown",M),function(){document.body.removeEventListener("keydown",M)}}),[]),Object(a.useEffect)((function(){J(V())}),[n,u,p,v,C,A]);var H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.toLowerCase()===t.toLowerCase()?Object(i.jsx)("option",{selected:!0,children:e}):Object(i.jsx)("option",{children:e})},R=function(t,s){switch(t){case"description":return void(0==(a=s).length?I(e.task.description):I(a));case"assignedTo":return void function(e){var t=e.split("|");c(t[1]),h(t[0]),P(t[2])}(s);case"status":return void w(s);case"level":return void T(s);default:console.log("invalid input")}var a},V=function(){return{taskId:e.taskId,taskTitle:e.task.taskTitle,dueDate:p.toString(),createDate:e.task.createDate,description:A,status:v,assignedTo:n,level:C,deptId:u,empId:L}},X=function(e){R(e.target.id,e.target.value)},G=function(){var t=Object(b.a)(j.a.mark((function t(){var s,a,n,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(q),(s=new Headers).append("Content-Type","application/json"),a=JSON.stringify(q),n={method:"POST",headers:s,body:a,redirect:"follow"},t.next=7,fetch("https://databasedesignprojapi.herokuapp.com/posts/updateTask",n).then((function(e){return e.text()})).then((function(t){console.log(t),"accepted"==JSON.parse(t).task&&e.onClose()})).catch((function(e){return console.log(e)}));case 7:return c=t.sent,t.abrupt("return",c);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return e.show?Object(i.jsx)("div",{className:"modal",onClick:e.onClose,children:Object(i.jsxs)("div",{className:"modal-content rounded border-2 border-black",onClick:function(e){return e.stopPropagation()},children:[Object(i.jsxs)("div",{className:"modal-header grid grid-cols-4",children:[Object(i.jsxs)("h4",{className:"modal-title col-start-2 col-span-2",children:["".concat(e.task.taskTitle)," ",Object(i.jsx)("br",{})," Task ID: ",e.taskId]}),Object(i.jsx)("div",{className:"text-right",children:Object(i.jsx)("button",{onClick:e.onClose,className:"w-3/6 button bg-white hover:bg-gray-100 text-gray-800 font-semibold py-2 px-4 border border-gray-400 rounded shadow",children:"X"})})]}),Object(i.jsxs)("div",{className:"modal-body grid grid-cols-5",children:[Object(i.jsxs)("div",{className:"col-span-2 grid grid-rows-5 gap-3",children:[Object(i.jsx)("div",{className:"task-description",children:e.task.description}),Object(i.jsxs)("div",{className:"task-assignedTo",children:["Assigned To: ",e.task.assignedTo]}),Object(i.jsxs)("div",{classname:"task-status",children:["Status: ",e.task.status]}),Object(i.jsxs)("div",{className:"task-dept",children:["Urgency: ",Object(i.jsx)("br",{})," ",e.task.level]}),Object(i.jsxs)("div",{className:"task-due",children:["Due Date: ",e.formatDate(e.task.dueDate)]})]}),Object(i.jsxs)("div",{className:"col-span-1 grid grid-rows-5 inline-block align-middle gap-3",children:[Object(i.jsx)("div",{children:"\u2192"}),Object(i.jsx)("div",{children:"\u2192"}),Object(i.jsx)("div",{children:"\u2192"}),Object(i.jsx)("div",{children:"\u2192"}),Object(i.jsx)("div",{children:"\u2192"})]}),Object(i.jsxs)("div",{className:"col-span-2 grid grid-rows-5 gap-3",children:[Object(i.jsx)("textarea",{id:"description",onChange:X,placeholder:e.task.description,className:"description border-black border rounded"}),Object(i.jsxs)("div",{className:"grid grid-rows-2",children:[Object(i.jsx)("select",{id:"assignedTo",onChange:X,className:"assignedTo h-6 box-border border border-black rounded",children:Object.keys(e.emps).map((function(t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2?arguments[2]:void 0;return e.name.toLowerCase()==t.toLowerCase()?Object(i.jsx)("option",{selected:!0,value:"".concat(e.deptId,"|").concat(e.name,"|").concat(s),children:e.name}):Object(i.jsx)("option",{value:"".concat(e.deptId,"|").concat(e.name,"|").concat(s),children:e.name})}(e.emps[t],n,t)}))}),Object(i.jsxs)("span",{children:["Dept: ",u]})]}),Object(i.jsx)("select",{id:"status",onChange:X,className:"status h-6 box-border border border-black rounded",children:["Todo","In Progress","Staging","UAT","Production","Closed"].map((function(e){return H(e,v)}))}),Object(i.jsx)("select",{id:"level",onChange:X,className:"level h-6 box-border border border-black rounded",children:["Low","Medium","High"].map((function(e){return H(e,C)}))}),Object(i.jsx)(g,{onChange:function(e){m(e.getTime()/1e3)},defaultDate:p})]})]}),Object(i.jsx)("div",{className:"modal-footer",children:Object(i.jsx)(d,{text:"Update Task",onclick:G,activeBtn:null,id:"submit",classAdd:""})})]})}):null}function v(e){var t=function(t){27===(t.charCode||t.keyCode)&&e.onClose()};return Object(a.useEffect)((function(){return document.body.addEventListener("keydown",t),function(){document.body.removeEventListener("keydown",t)}}),[]),e.show?Object(i.jsx)("div",{className:"modal",onClick:e.onClose,children:Object(i.jsxs)("div",{className:"modal-content rounded border-2 border-black",onClick:function(e){return e.stopPropagation()},children:[Object(i.jsxs)("div",{className:"modal-header grid grid-cols-4",children:[Object(i.jsxs)("h4",{className:"modal-title col-start-2 col-span-2",children:[e.task.taskTitle,Object(i.jsx)("br",{})," Task ID:  ",e.taskId]}),Object(i.jsx)("div",{className:"text-right",children:Object(i.jsx)("button",{onClick:e.onClose,className:"w-3/6 button bg-white hover:bg-gray-100 text-gray-800 font-semibold py-2 px-4 border border-gray-400 rounded shadow",children:"X"})})]}),Object(i.jsxs)("div",{className:"modal-body h-96 grid grid-rows-5 content-end",children:[Object(i.jsx)("div",{className:"task-description row-start-2",children:e.task.description}),Object(i.jsxs)("div",{className:"task-details row-start-5 grid grid-cols-3",children:[Object(i.jsxs)("div",{className:"task-assignedTo",children:["Assigned To: ",e.task.assignedTo]}),Object(i.jsxs)("div",{className:"task-dept",children:["Department: ",Object(i.jsx)("br",{})," ",e.task.deptId]}),Object(i.jsxs)("div",{className:"task-due",children:["Due Date: ",e.formatDate(e.task.dueDate)]})]})]}),Object(i.jsx)("div",{className:"modal-footer",children:Object(i.jsx)("button",{onClick:e.onClose,className:"button bg-white hover:bg-gray-100 text-gray-800 font-semibold py-2 px-4 border border-gray-400 rounded shadow",children:"Close"})})]})}):null}function w(e){var t=Object(a.useState)(!1),s=Object(o.a)(t,2),n=s[0],c=s[1],r=function(e){var t=new Date(1e3*e),s=t.getDate(),a=t.getMonth()+1,n=t.getFullYear();return"".concat(a,"/").concat(s,"/").concat(n)};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{draggable:!0,className:"grid draggable content-around grid-cols-4 border-2 border-black my-2 mx-2 rounded ".concat(function(e){switch(e.priority.toLowerCase()){case"high":return"bg-red-200";case"medium":return"bg-yellow-200";case"low":return"bg-blue-200";default:return"bg-gray-200"}}(e.task)),onClick:function(){return c(!0)},children:[Object(i.jsx)("div",{className:"col-span-4",children:e.task.taskTitle}),Object(i.jsx)("div",{className:"col-span-2 text-left mx-1 text-sm",children:e.task.assignedTo}),Object(i.jsx)("div",{className:"col-span-2 text-sm text-right mx-1",children:"Due Date: \n ".concat(r(e.task.dueDate))})]}),!0===e.edit?Object(i.jsx)(k,{show:n,onClose:function(){return c(!1)},task:e.task,formatDate:r,taskId:e.taskId,emps:e.emps}):Object(i.jsx)(v,{show:n,onClose:function(){return c(!1)},task:e.task,formatDate:r,taskId:e.taskId})]})}function y(e){var t=Object(a.useState)({taskTitle:"",dueDate:"",createDate:"",status:"",description:"",assignedTo:"",priority:"",deptId:"",empId:""}),s=Object(o.a)(t,2),n=s[0],c=s[1],r=function(){var e=Object(b.a)(j.a.mark((function e(t){var s,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={method:"GET",redirect:"follow"},e.next=3,fetch("https://databasedesignprojapi.herokuapp.com/queries/getTaskId",s).then((function(e){return e.text()})).then((function(e){t.taskId=JSON.parse(e).taskId;var s=new Headers;s.append("Content-Type","application/json");var a=JSON.stringify(t);fetch("https://databasedesignprojapi.herokuapp.com/posts/addTask",{method:"POST",headers:s,body:a,redirect:"follow"}).then((function(e){return e.text()})).then((function(e){return console.log(e)})).catch((function(e){return console.log("error",e)}))})).catch((function(e){return console.log("error",e)}));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"text-gray-100 col-start-2 row-start-2",children:Object(i.jsx)(f,{updatePreviewTask:function(e){c(e)},onsubmit:r})}),Object(i.jsxs)("div",{className:"col-start-3 row-start-2 w-2/4 text-black text-xl",style:{margin:"auto"},children:[Object(i.jsx)("p",{className:"text-gray-100",children:"Task Preview"}),Object(i.jsx)(w,{task:n,taskId:"####"})]})]})}function N(e){return Object(i.jsx)("div",{className:"my-2 text-gray-100",children:e.text})}function C(e){return Object(i.jsxs)("div",{className:"mx-2",children:[Object(i.jsx)(N,{text:e.title}),Object(i.jsx)("div",{className:"border-2 text-black border-black rounded h-full grid-rows-5 grid bg-gray-200 bg-opacity-50",children:Object.keys(e.task).map((function(t){return function(t,s){var a;return Object(i.jsx)(w,{task:t,taskId:s,edit:e.edit,emps:null!==(a=e.emps)&&void 0!==a?a:null},s)}(e.task[t],t)}))})]})}function T(){var e=Object(a.useState)({}),t=Object(o.a)(e,2),s=t[0],n=t[1],c=Object(a.useState)({}),r=Object(o.a)(c,2),d=r[0],l=r[1];return Object(a.useEffect)((function(){fetch("https://databasedesignprojapi.herokuapp.com/getEmployees").then((function(e){return e.json()})).then((function(e){l(e)}))}),[]),Object(a.useEffect)((function(){fetch("https://databasedesignprojapi.herokuapp.com/queries/getTasksByUser").then((function(e){return e.json()})).then((function(e){n(e)}))}),[]),Object(i.jsx)("div",{className:"col-start-2 row-start-2",children:Object(i.jsx)(C,{title:"Click On Task To Edit",task:s,edit:!0,emps:d})})}function S(){return Object(i.jsx)("div",{})}function D(){var e=Object(a.useState)("add"),t=Object(o.a)(e,2),s=t[0],n=t[1],c=Object(a.useState)("add"),r=Object(o.a)(c,2),l=r[0],u=r[1],j=function(e){u(e.target.id),n(e.target.id)};return Object(i.jsxs)("div",{className:"grid grid-cols-3 text-gray-100 grid-rows-6 h-9-10",children:[Object(i.jsxs)("div",{className:"grid grid-rows-6 row-start-3 row-span-2 grid-cols-6 col-start-1 gap-2",children:[Object(i.jsx)(d,{id:"add",activeBtn:l,text:"Add A Task",onclick:j,classAdds:"py-2 px-4 rounded max-w-fill col-start-3 col-span-2"}),Object(i.jsx)(d,{id:"edit",activeBtn:l,text:"Edit A Task",onclick:j,classAdds:"py-2 px-4 rounded max-w-fill col-start-3 col-span-2"})]}),function(){switch(s){case"add":return Object(i.jsx)(y,{});case"edit":return Object(i.jsx)(T,{});case"close":return Object(i.jsx)(S,{});default:return null}}()]})}var A=s(4);var I=function(e){var t=function(e,t){var s=n.a.useRef();return n.a.useEffect((function(){return e(A.f(s.current)),function(){}}),t),s}((function(t){var s=20,a=30,n=30,c=40,r=A.d().domain(e.data.map((function(t){return t[e.xAxis]}))).rangeRound([c,1e3-a]).padding(.1),o=A.e().domain([0,A.c(e.data,(function(t){return t[e.yAxis]}))]).rangeRound([500-n,s]),i=A.a(r);t.select(".x-axis").attr("transform","translate(0,".concat(500-n,")")).call(i);var d=A.b(o);t.select(".y-axis").attr("transform","translate(".concat(c,", 0)")).call(d),t.select(".plot-area").attr("fill","steelblue").selectAll(".bar").data(e.data).join("rect").attr("class","bar").attr("x",(function(t){return r(t[e.xAxis])})).attr("width",r.bandwidth()).attr("y",(function(t){return o(t[e.yAxis])})).attr("height",(function(t){return o(0)-o(t[e.yAxis])}))}),[e.data.length]);return Object(i.jsxs)("svg",{ref:t,style:{height:500,width:1e3,marginRight:"0px",marginLeft:"0px",backgroundColor:"white"},className:e.classAdd,children:[Object(i.jsx)("text",{transform:"rotate(-90)",y:15,x:-250,style:{fill:"black",textAnchor:"middle",fontWeight:"bold"},children:"Number of Tasks"}),Object(i.jsx)("g",{className:"plot-area"}),Object(i.jsx)("g",{className:"x-axis"}),Object(i.jsx)("g",{className:"y-axis"})]})};function B(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),s=(t[0],t[1],Object(a.useState)([])),n=Object(o.a)(s,2),c=n[0],r=n[1],l=Object(a.useState)([]),u=Object(o.a)(l,2),j=u[0],b=u[1],h=Object(a.useState)([]),x=Object(o.a)(h,2),O=x[0],g=x[1],p=Object(a.useState)([]),m=Object(o.a)(p,2),f=m[0],k=m[1],v=Object(a.useState)("deptName"),w=Object(o.a)(v,2),y=w[0],N=w[1],C=Object(a.useState)("taskCount"),T=Object(o.a)(C,2),S=T[0],D=(T[1],Object(a.useState)("dataByDept")),A=Object(o.a)(D,2),B=A[0],E=A[1],L=Object(a.useState)(0),P=Object(o.a)(L,2),F=P[0],U=P[1];Object(a.useEffect)((function(){fetch("https://databasedesignprojapi.herokuapp.com/queries/getTaskCountOfDepartment").then((function(e){return e.json()})).then((function(e){r(e),k(e)})),fetch("https://databasedesignprojapi.herokuapp.com/queries/getTaskCountOfUser").then((function(e){return e.json()})).then((function(e){b(e)})),fetch("https://databasedesignprojapi.herokuapp.com/queries/getTaskCountByStatus").then((function(e){return e.json()})).then((function(e){g(e)}))}),[]);return Object(i.jsxs)("div",{className:"h-9-10 grid grid-cols-12 grid-rows-6 gap-4",children:[Object(i.jsx)(d,{classAdds:"row-start-2 col-start-2",activeBtn:B,id:"dataByDept",text:"Tasks By Department",onclick:function(){console.log("clicked dept"),U(F+1),E("dataByDept"),N("deptName"),k(c)}}),Object(i.jsx)(d,{classAdds:"row-start-3 col-start-2",activeBtn:B,id:"dataByEmp",text:"Tasks By Employee",onclick:function(){console.log("clicked Emp"),U(F+1),E("dataByEmp"),N("name"),k(j)}}),Object(i.jsx)(d,{classAdds:"row-start-4 col-start-2",activeBtn:B,id:"dataByStatus",text:"Tasks By Status",onclick:function(){console.log("clicked status"),U(F+1),E("dataByStatus"),N("taskStatus"),k(O)}}),Object(i.jsx)(I,{data:f,classAdd:"border-4 row-start-2 shadow-2xl-15 col-start-4 ticket",xAxis:y,yAxis:S},F)]})}function E(){var e=Object(a.useState)({}),t=Object(o.a)(e,2),s=t[0],n=t[1],c=Object(a.useState)("All"),r=Object(o.a)(c,2),d=r[0],l=r[1],u=Object(a.useState)([]),j=Object(o.a)(u,2),b=j[0],h=j[1];Object(a.useEffect)((function(){fetch("https://databasedesignprojapi.herokuapp.com/queries/getTasksByUser").then((function(e){return e.json()})).then((function(e){m(e),n(e)}))}),[]);var x=function(e,t){return"All"==d?O(e,t):g(e,t,d)},O=function(e,t){var s={};return Object.keys(e).map((function(a){p(e[a].status,t)&&(s[a]=e[a])})),s},g=function(e,t,s){var a={};return Object.keys(e).map((function(n){p(e[n].status,t)&&p(e[n].assignedTo,s)&&(a[n]=e[n])})),a},p=function(e,t){return e.toLowerCase()===t.toLowerCase()},m=function(e){var t=[];Object.keys(e).forEach((function(s){t.includes(e[s].assignedTo)||t.push(e[s].assignedTo)})),h(t)};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"grid grid-cols-7 font-bold text-gray-100 text-2xl",children:[Object(i.jsxs)("div",{className:"",children:[Object(i.jsx)("div",{className:"",children:"Employee:"}),Object(i.jsxs)("select",{id:"empSelector",className:"text-black",onChange:function(e){l(e.target.value)},children:[Object(i.jsx)("option",{children:"All"}),b.map((function(e){return Object(i.jsx)("option",{children:e},e)}))]})]}),Object(i.jsx)("div",{className:"col-start-4",children:"Current Tasks"})]}),Object(i.jsx)("div",{className:"grid text-xl gap-2 grid-rows-6 h-9-10",children:Object(i.jsxs)("div",{className:"row-span-5 grid-cols-5 grid col-span-5",children:[Object(i.jsx)(C,{title:"Todo",task:x(s,"todo")}),Object(i.jsx)(C,{title:"In Progress",task:x(s,"in progress")}),Object(i.jsx)(C,{title:"Staging",task:x(s,"staging")}),Object(i.jsx)(C,{title:"UAT",task:x(s,"uat")}),Object(i.jsx)(C,{title:"Production",task:x(s,"production")})]})})]})}function L(e){return Object(i.jsx)(i.Fragment,{children:function(){switch(e.show){case"view":return Object(i.jsx)(E,{});case"add":return Object(i.jsx)(D,{});case"anal":return Object(i.jsx)(B,{});default:return Object(i.jsx)(i.Fragment,{})}}()})}function P(e){var t=Object(a.useState)(""),s=Object(o.a)(t,2),n=s[0],c=s[1];return Object(i.jsx)("div",{className:"grid grid-cols-12 h-full grid-rows-6",children:Object(i.jsxs)("form",{className:"col-start-5 col-span-4 rounded row-start-3 row-span-2 bg-gray-100 border-4 border-black grid grid-cols-3 grid-rows-6 shadow-xl gap-3 rounded",children:[Object(i.jsx)("div",{className:"col-span-full row-start-2 text-3xl",children:"Enter Login Information"}),Object(i.jsxs)("div",{className:"col-start-2 row-start-3",children:["Username:",Object(i.jsx)("input",{type:"text",placeholder:"Username",id:"username",className:"rounded"})]}),Object(i.jsxs)("div",{className:"col-start-2 row-start-4",children:["Password:",Object(i.jsx)("input",{type:"password",placeholder:"Password",id:"password",className:"rounded"})]}),Object(i.jsx)(d,{text:"Login",classAdds:"col-start-2 row-start-5 hover:text-black",onclick:function(t){t.preventDefault();var s=document.querySelector("#password").value,a=document.querySelector("#username").value,n=new Headers;n.append("Content-Type","application/json");var r=JSON.stringify({username:a,pass:s});fetch("https://databasedesignprojapi.herokuapp.com/posts/login",{method:"POST",headers:n,body:r,redirect:"follow"}).then((function(e){return e.text()})).then((function(t){t=JSON.parse(t),console.log(t),1==t.authenticated?e.login():c("Incorrect Login Information")})).catch((function(e){return console.log("error",e)}))}}),Object(i.jsx)("p",{className:"col-start-1 row-start-6 col-span-3 text-red-600 font-bold glow",children:n})]})})}var F=function(){var e=Object(a.useState)("view"),t=Object(o.a)(e,2),s=t[0],n=t[1],c=Object(a.useState)(!1),r=Object(o.a)(c,2),d=r[0],u=r[1],j=function(){n("view")},b=function(){n("anal")},h=function(){n("add")},x=function(){u(!0)},O=function(){u(!1)};return Object(i.jsx)("div",{className:"App h-screen font-mono overflow-hidden",children:d?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(l,{showViewTask:j,showAnalytics:b,showAddTask:h,body:s,logout:O}),Object(i.jsx)(L,{show:s})]}):Object(i.jsx)(P,{login:x})})},U=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,124)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;s(e),a(e),n(e),c(e),r(e)}))};r.a.render(Object(i.jsx)(n.a.StrictMode,{children:Object(i.jsx)(F,{})}),document.getElementById("root")),U()},32:function(e,t,s){}},[[123,1,2]]]);
//# sourceMappingURL=main.0d677d82.chunk.js.map